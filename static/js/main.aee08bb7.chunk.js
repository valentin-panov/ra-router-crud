(this["webpackJsonpra-hw"]=this["webpackJsonpra-hw"]||[]).push([[0],{71:function(e,t,n){},88:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(9),s=n.n(a),i=(n(71),n(22)),o=n(29),d=n(16),j=n(11),l=n(51),u=n.n(l),b=n(56);function h(e){return O.apply(this,arguments)}function O(){return(O=Object(b.a)(u.a.mark((function e(t){var n,c,r,a,s,i,o,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.query,c=t.method,r=t.content,a=t.id,s="https://vpanov-ra-router-crud-backend.herokuapp.com/",i="DELETE"===c?s+n+"".concat(a):s+n,e.next=5,fetch(i,{method:c,headers:new Headers({"content-type":"application/json"}),body:r?JSON.stringify({id:a,content:r}):null});case 5:if((o=e.sent).ok){e.next=8;break}throw new Error("Request error");case 8:if(200!==o.status){e.next=14;break}return e.next=11,o.json();case 11:e.t0=e.sent,e.next=15;break;case 14:e.t0=null;case 15:return d=e.t0,e.abrupt("return",d);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p=n(120),x=n(2);function f(e){var t=e.basURL;return Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:"btn-holder",children:Object(x.jsx)(d.b,{to:t+"/posts/new",children:Object(x.jsx)(p.a,{variant:"contained",color:"primary",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u0441\u0442"})})})})}var m=n(61);function v(){return Object(x.jsx)("div",{children:Object(x.jsx)(m.ThreeDots,{})})}var y=n(26),N=n.n(y);n(49);function w(e){var t=e.item,n=e.onPostClickHandler,c=Object(j.f)(),r=t.id,a=t.content,s=t.created;return Object(x.jsxs)("div",{className:"card",style:{cursor:"pointer"},onClick:function(){return n({id:r,history:c})},children:[Object(x.jsx)("span",{className:"card_time",children:N()(s).fromNow()}),Object(x.jsx)("span",{className:"card_content",children:a})]})}function k(e){var t=e.posts,n=e.onPostClickHandler;return Object(x.jsx)("ul",{className:"",children:t.map((function(e){return Object(x.jsx)(w,{item:e,onPostClickHandler:n},e.id)}))})}var S=n(119),C=n(32),g=n.n(C);function L(e){var t=e.onNewPostSubmitHandler,n=e.basURL,r=Object(c.useState)(""),a=Object(o.a)(r,2),s=a[0],i=a[1],l=Object(j.f)();return Object(x.jsxs)("div",{className:"card",children:[Object(x.jsx)("div",{className:"head-holder",children:Object(x.jsx)(d.b,{to:n+"/",children:Object(x.jsx)(g.a,{style:{cursor:"pointer"}})})}),Object(x.jsxs)("form",{className:"new-post-input",noValidate:!0,autoComplete:"off",onSubmit:function(e){t({event:e,post:s,history:l}),i("")},children:[Object(x.jsx)(S.a,{value:s,onInput:function(e){return i(e.target.value)},id:"outlined-basic",label:"\u041d\u043e\u0432\u0430\u044f \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u044f",variant:"outlined",style:{width:"100%"}}),Object(x.jsx)("div",{className:"btn-holder",children:Object(x.jsx)(p.a,{variant:"contained",color:"primary",type:"submit",children:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"})})]})]})}var H=r.a.createContext([]);function P(e){var t=e.match,n=e.onDeleteHandler,c=e.basURL,r=Object(j.f)(),a=t.params.id;return Object(x.jsxs)("div",{className:"card",children:[Object(x.jsx)("div",{className:"head-holder",children:Object(x.jsx)(d.b,{to:c+"/",children:Object(x.jsx)(g.a,{style:{cursor:"pointer"}})})}),Object(x.jsx)(H.Consumer,{children:function(e){var t=e.find((function(e){return e.id===a})),n=t.created,c=t.content;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{className:"card_time",children:N()(n).fromNow()}),Object(x.jsx)("span",{className:"card_content",children:c})]})}}),Object(x.jsxs)("div",{className:"btn-holder",children:[Object(x.jsx)(d.b,{to:c+"/posts/edit/".concat(a),children:Object(x.jsx)(p.a,{variant:"contained",color:"primary",children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})}),"\xa0",Object(x.jsx)(p.a,{variant:"contained",color:"secondary",onClick:function(){return n({id:a,history:r})},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})}function E(e){var t=e.match,n=e.onSaveHandler,r=e.basURL,a=Object(c.useState)(""),s=Object(o.a)(a,2),i=s[0],l=s[1],u=Object(j.f)(),b=t.params.id;return Object(x.jsxs)("div",{className:"card",children:[Object(x.jsxs)("div",{className:"head-holder",children:[Object(x.jsx)("span",{className:"post-editor_header",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u044e"}),Object(x.jsx)(d.b,{to:r+"/",children:Object(x.jsx)(g.a,{style:{cursor:"pointer"}})})]}),Object(x.jsx)(H.Consumer,{children:function(e){var t=e.find((function(e){return e.id===b})),c=t.created,r=t.content;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{className:"card_time",children:N()(c).fromNow()}),Object(x.jsxs)("form",{className:"new-post-input",noValidate:!0,autoComplete:"off",onSubmit:function(e){n({event:e,id:b,post:i,history:u}),l("")},children:[Object(x.jsx)(S.a,{defaultValue:r,onInput:function(e){return l(e.target.value)},id:"outlined-basic",label:"",variant:"outlined",style:{width:"100%"}}),Object(x.jsx)("div",{className:"btn-holder",children:Object(x.jsx)(p.a,{variant:"contained",color:"primary",type:"submit",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})]})}})]})}function R(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),s=Object(o.a)(a,2),l=s[0],u=s[1],b="/ra-router-crud",O=function(){u(!0),h({query:"posts",method:"GET"}).then((function(e){r(e),u(!1)}))},p=function(e){var t=e.id;e.history.push(b+"/posts/".concat(t))},m=function(e){var t=e.event,n=e.post,c=e.history;t.preventDefault(),n&&h({query:"posts",method:"POST",content:n}),c.push(b+"/"),O()},y=function(e){var t=e.id,n=e.history;t&&h({query:"posts/",method:"DELETE",id:t}),n.push(b+"/"),O()},N=function(e){var t=e.event,n=e.id,c=e.post,r=e.history;t.preventDefault(),c&&h({query:"posts",method:"POST",content:c,id:n}),r.push(b+"/"),O()};return Object(c.useEffect)((function(){O()}),[]),Object(x.jsx)(d.a,{children:Object(x.jsx)(H.Provider,{value:n,children:Object(x.jsx)("div",{className:"wrapper>",children:Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)(f,{basURL:b}),l&&Object(x.jsx)(v,{}),Object(x.jsxs)(j.c,{children:[n.length&&Object(x.jsx)(j.a,{path:b+"/",exact:!0,render:function(e){return Object(x.jsx)(k,Object(i.a)(Object(i.a)({},e),{},{posts:n,onPostClickHandler:p}))}}),Object(x.jsx)(j.a,{path:b+"/posts/new",exact:!0,render:function(e){return Object(x.jsx)(L,Object(i.a)(Object(i.a)({},e),{},{onNewPostSubmitHandler:m,basURL:b}))}}),Object(x.jsx)(j.a,{path:b+"/posts/:id",exact:!0,render:function(e){return Object(x.jsx)(P,Object(i.a)(Object(i.a)({},e),{},{onDeleteHandler:y,basURL:b}))}}),Object(x.jsx)(j.a,{path:b+"/posts/edit/:id",exact:!0,render:function(e){return Object(x.jsx)(E,Object(i.a)(Object(i.a)({},e),{},{onSaveHandler:N,basURL:b}))}})]})]})})})})}var D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,122)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};s.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(R,{})}),document.getElementById("root")),D()}},[[88,1,2]]]);
//# sourceMappingURL=main.aee08bb7.chunk.js.map